version: 2.1

orbs:
  node: circleci/node@5.1.0

jobs: 
    angular-test:
      docker:
        - image: circleci/node:16.4.0
      environment:
        NPM_CONFIG_PREFIX: "~/.npm-global"
      steps:
        - checkout
        - run:
            name: Install Angular CLI
            command: npm install -g @angular/cli@latest
        - run:
            command: npm link @angular/cli
        - run:
            name: Change folder
            command: cd ~/project/Frontend
        - run:
            name: Install Angular Dependencies
            command: cd ~/project/Frontend && npm install --force
        - run:
            name: Run Angular Tests
            command: cd ~/project/Frontend && npm run test
workflows:
    backend:
      jobs:
        - node/run:
            pkg-manager: npm 
            resource_class: large 
            app-dir: ~/project/Backend 
            npm-run: test

        - angular-test
  